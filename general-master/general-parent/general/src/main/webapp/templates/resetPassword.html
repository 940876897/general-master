<div class="ngdialog-message">

    <div class="page-header">
        <h1>修改密码</h1>
    </div>
    <form class="form-horizontal" name="submitForm" novalidate>

        <!--旧密码-->
        <div class="form-group"
             ng-class="{ 'has-error' : submitForm.oldPassword.$invalid && !submitForm.oldPassword.$pristine }">
            <label class="col-lg-3 control-label" for="oldPassword"><span class="text-danger">*</span>&nbsp;旧密码</label>

            <div class="col-lg-8">
                <input type="password" name="oldPassword" class="form-control" ng-model="user.oldPassword"
                       id="oldPassword"
                       placeholder="请输入旧密码" ng-minlength="1" ng-maxlength="50"
                       ng-keydown="user.pswMismatch=false"
                       ng-blur="security.certificatePSW(user)" ng-required="true">

                <p ng-show="user.pswMismatch||(submitForm.oldPassword.$invalid && !submitForm.oldPassword.$pristine)"
                   class="help-block">
                    旧密码不正确。</p>
            </div>
        </div>

        <!--新密码-->
        <div class="form-group"
             ng-class="{ 'has-error' : submitForm.password.$invalid && !submitForm.password.$pristine }">
            <label class="col-lg-3 control-label" for="password"><span class="text-danger">*</span>&nbsp;新密码</label>

            <div class="col-lg-8">
                <input type="password" name="password" class="form-control" ng-model="user.password" id="password"
                       placeholder="请输入6~16位的新密码" ng-minlength="6" ng-maxlength="16" ng-required="true">

                <p ng-show="submitForm.password.$invalid && !submitForm.password.$pristine" class="help-block">
                    请输入6~16位的新密码。</p>
            </div>
        </div>

        <!--确认新密码-->
        <div class="form-group"
             ng-class="{ 'has-error' : submitForm.confirmnewpsw.$invalid && !submitForm.confirmnewpsw.$pristine }">
            <label class="col-lg-3 control-label" for="confirmnewpsw"><span
                    class="text-danger">*</span>确认密码</label>

            <div class="col-lg-8">
                <input type="password" name="confirmnewpsw" class="form-control" ng-model="confirmnewpsw"
                       id="confirmnewpsw"
                       placeholder="请确认新密码。" ng-minlength="6" ng-maxlength="16"
                       ng-required="true" comparea-to="user.password">

                <p ng-show="submitForm.confirmnewpsw.$invalid && !submitForm.confirmnewpsw.$pristine"
                   class="help-block">
                    确认密码与新密码不一致。</p>
            </div>
        </div>

        <div class="ngdialog-buttons">
            <button type="button" class="ngdialog-button ngdialog-button-secondary"
                    ng-click="closeThisDialog('button')">取消
            </button>
            <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(user)"
                    ng-show="!submitForm.$invalid&&confirmnewpsw==user.password">确定
            </button>
            <div class="col-lg-8">
                <label style="color: red"
                       ng-show="!submitForm.$invalid&&confirmnewpsw==user.password">确定修改密码会退出登录。</label></div>
        </div>
    </form>
</div>